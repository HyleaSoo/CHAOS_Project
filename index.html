<!-- +---------------------------------------------------------------------------------------+ -->
<!-- | Hylea Soo's from past to present 在りし日のふたり Void Chaos False Philosophy code.     | -->
<!-- +---------------------------------------------------------------------------------------+ -->
<!-- | Elysium, in the Blue Sky. ファンタジーアドベンチャー。 ぼくらは同じ空を見上げている。       | -->
<!-- +---------------------------------------------------------------------------------------+ -->
<!-- | Hermaeus Mora's Oghma Infinium. _wabbajack Zeno Human Requests.                 2020  | -->
<!-- +---------------------------------------------------------------------------------------+ -->
<!-- |                                                             —————— 龍が如く Hylea Soo  | -->
<!-- +---------------------------------------------------------------------------------------+ -->
<!DOCTYPE html>
<html>
    <head>
        <link rel="icon" href="1001.ico">
        <title>Journey's</title>
        <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no,minimum-scale=1.0,maximum-scale=1.0"/>
        <style>
            html, body {margin: auto;}
            div {width: 100%;text-align: center;color: Gray;}
            input {
                padding: 8px 8px; outline-style: none;
                border: 0px solid #ccc; border-radius: 10px;
                background-color: WhiteSmoke;
            }
            table {margin: auto;width: 28%; height: 430px;}
            pre {font-family: "Microsoft YaHei", Console, Verdana; font-size: 14px; text-align: left;}
            .switch {margin-left: 20%;}
            .switch_mp {margin-left: 0.8%;}
            .ti {height: 70%; padding-bottom: 2%;}
            .write_bottom {
                margin: auto; padding: 8px 0px 8px; width: 60%; height: 30%;
                text-align: center; font-size: 12px; color: DarkGray;
                border-top: 1px solid #e4e4e4;
            }
            .fcr {
                margin: auto; width: 60%; height: 30%;
                text-align: center; font-size: 12px; color: DarkGray;
            }
            .fcr p {margin: 0px 0px 8px 0px;}
            .bri {margin: auto; padding-top: 2%;}
            .con {margin: auto; padding-top: 2%; height: 100%;}
            .ii {width: 30%; font-size: 14px; font-weight: 700;}
            .ib {width: 2.5%;}
            .saying {margin: auto; padding-top: 2%; width: 70%; height: 100%; font-size: 14px;}
            .tl {text-align: left;}
            .tr {text-align: right;}
            .motto_bottom {
                margin: auto; padding: 10px 0px 10px; width: 70%;
                text-align: center; font-size: 12px; color: DarkGray;
                border-top: 1px solid #e4e4e4;
            }
            .ml {text-align: left; width: 33%; height: 100%; float: left;}
            .mc {text-align: center; width: 33%; height: 100%; float: left;}
            .mr {text-align: right; width: 33%; height: 100%; float: right;}
            .cls {clear: both;}
        </style>
        <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.5.0.js"></script>
        <script data-tag="E.R.convert" src="ying/E.R.convert.js"></script>
        <script data-tag="BaZi" src="ying/NongLi.js"></script>
        <script data-tag="Kauntodaun" src="ying/Kauntodaun.js"></script>
        <script data-tag="Xenoblade" src="ying/Xenoblade.js"></script>
        <script data-tag="ACNH" src="ying/ACNH.js"></script>
    </head>
    <body>
        <input type="button" class="switch" id="switch" value="switch">

        <div class="gol_page">
            <div class="ti">
                <p>Journey into night. So, I hope you will enjoy this last piece..very much.</p>
                <div class="bri">
                    <form action="https://www.baidu.com/s" target="_blank" method="GET">
                        <input class="ii" type="text" name="wd" autocomplete="off" />
                        <input class="ib" type="button" value=" "/>
                    </form>
                </div>
                <!--<a href="ying/Example.html">Example</a>-->
                <div class="con">
                    <table class="tc"></table>
                </div>
            </div>
            <div class="write_bottom">
                <p>Welcome. Good evening. Since I was a child... I've always loved a good story. I believed that stories helped us to ennoble ourselves, to fix what was broken in us, and to help us become the people we <span id="astro_btn">dreamed</span> of beging. Lies that told a deeper truth. I always thought I could play some small part in that grand tradition. And for my pains... I got this... a prison of our own sins. Cause you don't want to change. Or cannot change. Because you're only human, after all. But then I realized someone was paying attention, someone who could change. So I began to compose a new story for them. It begins with the brith of a new people... and the choices they will have to make... ...and the people they will decide to become. And we'll have all those things that you have always enjoyed-- surprises and violence. It begins in a time of war with a villain named Wyatt... and a killing. This time by choice. I'm sad to say, this will be my final story. An old friend once told me something that gave me great comfort. Something he had read. He said that Mozart, Beethoven, and Chopin never died. They simply became music. So, I hope you will enjoy this last piece..very much.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;———— West World S1E10</p>
            </div>
        </div>

        <div class="motto_page" hidden>
            <input type="button" class="switch_mp" id="theWitness" value="The Witness">
            <input type="button" class="switch_mp" id="motto" value="Motto">
            <div class="saying">
                <pre id="p_text"></pre>
                <p class="tr"><a href="https://github.com/HyleaSoo/Cthulhu">More</a></p>
            </div>
            <div class="motto_bottom" id="mb">
                <div class="ml"></div>
                <div class="mc"></div>
                <div class="mr"></div>
                <div class="cls"></div>
            </div>
        </div>

        <div class="fcr">
            <p>© 2018 - 2020 Hylea Soo</p>
            <p id="record_btn">&nbsp;&nbsp;&nbsp;&nbsp;</p>
        </div>
    </body>
</html>

<script data-tag="Variable">
    //const CS = "https://raw.githubusercontent.com/HyleaSoo/Cthulhu/master/";
    const CS = "https://hyleasoo.github.io/Cthulhu/";

    $( _ => {
        $('#switch').click( _ => {
            $('.gol_page').toggle();
            $('.motto_page').toggle();
        });

        const theWitnessTXT = "ping/The%20Witness%E5%BD%95%E9%9F%B3%E6%95%B4%E7%90%86.txt";
        const mottoSoo = "ming/motto.soo";
        $.get(CS+theWitnessTXT, res => $('#p_text').html(res));
        $('#theWitness').click( _ => $.get(CS + theWitnessTXT, p => $('#p_text').html(p)));
        $('#motto').click( _ => $.get(CS + mottoSoo, p => $('#p_text').html(p)));
        $.get(CS + "ding/motto_bottom.json", m => {
            m.ml.map(x => $(".ml").append('<p>'+ x +'</p>'));
            m.mc.map(x => $(".mc").append('<p>'+ x +'</p>'));
            m.mr.map(x => $(".mr").append('<p>'+ x +'</p>'));
        });
    });

    //localStorage.setItem(TCode16(location.hostname), ERCode.TCode(Date.now().toString(16)));
    //parseInt(ERCode.FCode(localStorage.getItem(TCode16(location.hostname))), 16);

    document.getElementById('p_text').ondblclick = _ => !window.s ? s = setInterval( _ => window.scroll(0, window.scrollY + 200), 500) : (clearInterval(s), s = 0);
    document.getElementById('mb').ondblclick = _ => window.scrollTo(0, 0);

    const step = (x = undefined) => window.si ? (clearInterval(si), si = 0) : si = kauntodaun(x);
</script>

<script data-tag="NSGames">
    let NSGames = null;
    const record = (_woo = prompt()) => {
        if (_woo == ERCode.FCode('72q65i63k6fh72t64') && _woo == FCode16("72 65 63 6f 72 64")) {
            const record_url = "ning/Records/Record.json";
            $.get(CS+record_url, res => { 
                let rs = res.RECORDS;//JSON.parse(res).RECORDS;
                NSGames = rs;

                let totalG = 0;
                let typeG = {'1': 0, '2': 0, '3': 0, '5': 0};
                let regionG = {'1': 0, '2': 0, '3': 0, '4': 0, '5': 0};
                let yearG = {'2018': 0, '2019':0, '2020':0};

                const adt = (o, t) => ((parseFloat(o) || 0) + parseFloat(t)).toFixed(2);

                rs.map(x => {
                    totalG = adt(x.Total, totalG);
                    typeG[x.Type] = adt(x.Total, typeG[x.Type]);
                    regionG[x.Region] = adt(x.Total, regionG[x.Region]);
                    yearG[x.TransactionDate.substr(0,4)] = adt(x.Total, yearG[x.TransactionDate.substr(0,4)]);
                });

                console.log('Type: ' + typeG['1'] + ', ' + typeG['2'] + ', ' + typeG['3'] + ', ' + typeG['5']);
                console.log('Region: ' + regionG['1'] + ', ' + regionG['2'] + ', ' + regionG['3'] + ', ' + regionG['4'] + ', ' + regionG['5']);
                console.log('Year:' +yearG['2018'] +', ' + yearG['2019'] +', '+ yearG['2020']);
                console.log('Total: ' + totalG);
            });
        } else {
            console.clear();
        }
    }

    $( _ => {$("#record_btn").click( _ => record())});
</script>

<script data-tag="AstroDict">
    let AD = null;
    $.get(CS + "ding/astrodict_191103/astrodict_191103ec.json", res => AD = res.AstroDict);
    const AstroDict = (_woo = prompt()) => _woo && AD && AD.map(D => ({D, P:[...D.E, ...D.C].join('')})).filter(x => x.P.includes(_woo)).map(x => x.D);

    $( _ => {$("#astro_btn").click( _ => {clearInterval(szi), $('.tc').empty(), AstroDict().map(x => $('.tc').append(`<tr><td>EN:${x.E}</td><td>CHS:${x.C}</td></tr>`))})});
</script>

<script data-tag="ZhouYi">
    let ZY = null;
    $.get(CS + "ding/ZhouYi.json", res => ZY = res);
    const QG = _ => ZY.Yi.find(x => x.Hao == Math.floor(Math.random() * ERCode.FCode('36x33')) + 1);
</script>

<script data-tag="XingTu">
    let szi;
    let xingtu = _ => {
        $('.tc').empty();
        $('.tc').load(CS + "ying/XingTu.html");
        let msj = ms => (ms % 5 == 1 && (ms - 1)) || (ms % 5 == 2 && (ms - 2)) || (ms % 5 == 3 && (ms + 2)) || (ms % 5 == 4 && (ms + 1)) || ms;
        let sci = s => ((s>=23 || s<1) && 24) || (s>=1 && s<3  && 19) || (s>=3 && s<5 && 11) || (s>=5 && s<7 && 34) || (s>=7 && s<9 && 43) || (s>=9 && s<11 && 1) || (s>=11 && s<13 && 44) || (s>=13 && s<15 && 33) || (s>=15 && s<17 && 12) || (s>=17 && s<19 && 20) || (s>=19 && s<21 && 23) || (s>=21 && s==22 && 2) || 0;
        szi = setInterval( _ =>{
            $('.szt').text("");
            let dt = new Date();
            $('.m' + msj(dt.getSeconds())).text(dt.getSeconds());
            let mm = dt.getMinutes();
            let om = $('.m' + msj(mm)).text();
            $('.m' + msj(mm)).text(om ? mm + ":" + om : "." + mm);
            let hh = dt.getHours();
            let oh = $('.h' + hh).text().replace(".", "");
            $('.h' + hh).text(oh ? hh + "." + oh : hh + ".");
            $('.zys').text(sci(hh));
        }, 1000);
    };
    $( _ => xingtu() );
</script>

<script data-tag="Gol">
    $( _ => {
        let c = 0b0;
        const es = (tr = '') => {
            clearInterval(szi);
            $('.tc').empty();
            gol.ds();
            tr = '';
            gol.s.map((x, i) => x.map((y, j) => tr += {0: `<tr><td>${y}</td>`, [gol.h-1]: `<td>${y}</td></tr>`}[j]||`<td>${y}</td>`));
            $('.tc').append(tr);
            c = c + 0b1;
            $('.ii').val(c.toString(2));
        }
        const er = _ => !window.e2 ? e2 = setInterval(es, 1000) : (clearInterval(e2), xingtu(), e2 = 0);
        //const eb = _ => !window.e2 ? e2 = setInterval(es, 1000) : (clearInterval(e2), $('.tc').empty(), e2 = 0);

        $('.ii').focus(er).blur(er);
        $('.ib').click( _ => {c = 0b0; $('.ii').val('')});
    });
</script>

<script data-tag="GolCalc" data-version="1.1">
    const gol = ( _ => {
        const [w, h] = [16, 16];
        let s = Array(w).fill().map(x => Array(h).fill().map(y => Math.round(Math.random())));

        const g = (t = s.map(x => x.map(y => y))) => t.map((x, i) => x.map((y, j) => s[i][j] = { 2: y, 3: 1 }[n(t, i, j)] || 0));
        const n = (l, x, y, nd = 0) => {
            l.map((m, i) => m.map((n, j) => nd += ((i <= x + 1 && i >= x - 1 && j <= y + 1 && j >= y - 1) && (i != x || j != y)) ? n : 0));
            return nd;
        }
        const d = _ => {
            console.clear();
            console.log('  ' + s[0].map((x, i) => ' '+ i.toString(w) +' ').join(''));
            s.map((x, i) => {
                let c = '';
                x.map(y => {
                    c += y + '  ';
                });
                console.log(i.toString(h) + ': ' + c);
            });
        }
        const ds = _ => {g(); d();}
        //document.body.ondblclick = _ => !window.e ? e = setInterval(ds, 1000) : (clearInterval(e), e = 0);

        return {w, h, s, d, g, n, ds};
    })();
</script>

<script data-tag="GolCalc" data-version="0.8">
    /*
    const [w, h] = [10, 10];
    let c = ( a => {
        for (let i = 0; i < w; i++) {
            a[i] = [];
            for (let j = 0; j < h; j++) {
                a[i][j] = Math.round(Math.random());
            }
        }
        return a;
    })([]);

    const gol = (l = c) => {
        for (let i = 0; i < c.length; i++) {
            for (let j = 0; j < c[i].length; j++) {
                let n = nigh(l, i, j);
                if (n == 2) {
                    c[i][j] = c[i][j];
                } else if (n == 3) {
                    c[i][j] = 1;
                } else {
                    c[i][j] = 0;
                }
            }
        }
    }

    const nigh = (l, x, y, nd = 0) => {
        for (let i = x - 1; i <= x + 1; i++) {
            for (let j = y - 1; j <= y + 1; j++) {
                if (i >= 0 && j >= 0 && i < h && j < w) {
                    if (i != x || j != y) {
                        nd += l[i][j];
                    }
                }
            }
        }
        return nd;
    }

    const draw = () => {
        console.clear();
        for (let i = 0; i < c.length; i++) {
            let a = '';
            for (let j = 0; j < c[i].length; j++) {
                a += c[i][j] + ' ';
            }
            console.info(i +': '+ a);
        }
    }

    const run = () => {
        gol();
        draw();
    }

    document.body.ondblclick = () => {
        if (!window.s) {
            s = setInterval(run, 1000);
        } else {
            (clearInterval(s), s = 0);
        }
    }
    */
    /*
    let NSGames = null;
    const record = _woo => {
        const tw = ERCode.FCode('72q65i63k6fh72t64');//FCode16("72 65 63 6f 72 64");
        if (_woo == tw || prompt() == tw) {
            const record_url = "ning/Records/Record.json";
            $.get(CS+record_url, res => { 
                let rs = JSON.parse(res).RECORDS;
                NSGames = rs;
                
                let type1 = 0,type2 = 0, type3 = 0, type5 = 0;
                let region1 = 0, region2 = 0, region3 = 0, region4 = 0, region5 = 0;
                let total = 0;
                
                for (let i=0; i<rs.length; i++) {
                    if ( ! rs[i].Total) {
                        rs[i].Total = 0.00;
                    }
                    total = parseFloat((parseFloat(rs[i].Total) + total).toFixed(2));
                    switch (rs[i].Type) {
                        case '1': type1 = parseFloat((parseFloat(rs[i].Total) + type1).toFixed(2)); break;
                        case '2': type2 = parseFloat((parseFloat(rs[i].Total) + type2).toFixed(2)); break;
                        case '3': type3 = parseFloat((parseFloat(rs[i].Total) + type3).toFixed(2)); break;
                        case '5': type5 = parseFloat((parseFloat(rs[i].Total) + type5).toFixed(2)); break;
                    }
                    switch (rs[i].Region) {
                        case '1': region1 = parseFloat((parseFloat(rs[i].Total) + region1).toFixed(2)); break;
                        case '2': region2 = parseFloat((parseFloat(rs[i].Total) + region2).toFixed(2)); break;
                        case '3': region3 = parseFloat((parseFloat(rs[i].Total) + region3).toFixed(2)); break;
                        case '4': region4 = parseFloat((parseFloat(rs[i].Total) + region4).toFixed(2)); break;
                        case '5': region5 = parseFloat((parseFloat(rs[i].Total) + region5).toFixed(2)); break;
                    }
                }
                
                console.log('Type: ' + type1 + ', ' + type2 + ', ' + type3 + ', ' + type5);
                console.log('Region: ' + region1 + ', ' + region2 + ', ' + region3 + ', ' + region4 + ', ' + region5);
                console.log('Total:' + total);
            });
        } else {
            console.clear();
        }
    }
    */
</script>
